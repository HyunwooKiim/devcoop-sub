# 어그리거트 / 애그리거트(aggregate)란?

어그리거트는 DDD(Domain Driven Design)에서 사용되는 개념이다.

사전상으로는 다음과 같은 뜻을 가진 단어이다.

- 명사
  - 합계, 총액
  - (건설 자재용) 골재
- 형용사
  - 종합한, 총…
- 동사
  - 종합하다

## DDD란?
어그리거트가 DDD에서 사용되는 개념이라면, 이를 알기 위해선 DDD에 대해 알 필요가 있다.

DDD는 우리말로 도메인 주도 설계, 즉 분야 주도 설계이다. DDD는 기존의 개발 방식이, 복잡한 비지니스 측면에서의 요구사항을 반영하기 어려워, 이를 해결하기 위해 제시되었다.

다음은 DDD에서 사용되는 주요한 개념이다.

- 도메인(Domain)
  - 소프트웨어로 해결하고자하는 영역, 분야를 의미한다.
  - 도메인은 각각의 추상적인 정도와 구체적인 정도에 따라 상위 도메인과 하위 도메인으로 나뉘며, 상위 도메인은 더 추상적이고 덜 구체적이며, 하위 도메인은 더 구체적이고 덜 추상적이다.
  - 그 예로, 상위 도메인을 SNS라고하면, 하위 도메인은 사용자, 게시물, 다이렉트 메세지 등이 존재할 수 있으며, 이들 또한 하위 도메인을 가질 수도 있다.
  - 앞으로 언급하거나 DDD의 이름의 도메인이라는 표현은 이를 의미한다.
- 바운디드 컨텍스트(Bounded Context)
  - 도메인 모델 간의 경계를 의미한다.
  - 각 바운디드 컨텍스트 간 상호작용은 인터페이스를 통해 이루어진다.
- 어그리거트
  - 도메인 모델의 일관성을 유지하기 위해 관련된 객체들을 묶어 관리하는 단위이다.
  - 하나의 루트 어그리거트를 가지며 외부에서는 이를 통해서만 접근이 가능하다.
- 엔티티
  - 고유 식별자를 가지는 객체이다.
  - 도메인 모델을 구성하는 핵심 요소이다.
- 벨류 오브젝트
  - 고유한 식별자 없이, 불변적인 값을 가지는 객체이며, 도메인 모델의 속성을 포함한다.

## 결론
위와 같은 개념이 사용되는 DDD에서, 어그리거트는 쉽게 풀어서 설명하면 관련된 도메인 객체들의 집합을 말한다.
이들은 생명주기가 비슷하고, 트랜젝션 단위로 작동하며, 하위에 속하는 도메인 객체들을 유효한 상태를 가지도록 유지한다.